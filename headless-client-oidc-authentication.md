Let be the following OpenID Connect client:
- id: tom
- secret: b7e35838-8757-4f34-b6e3-fe0b98c1b541

## Access token retrieval

To retrieve the access token, you must authenticate to https://identity.cosium.com/auth/realms/general/protocol/openid-connect/token using BasicAuth.
The token to provide is `base64Encode("tom:b7e35838-8757-4f34-b6e3-fe0b98c1b541")`=`dG9tOmI3ZTM1ODM4LTg3NTctNGYzNC1iNmUzLWZlMGI5OGMxYjU0MQ==`

Request:
```
POST https://identity.cosium.com/auth/realms/general/protocol/openid-connect/token
Content-Type: application/x-www-form-urlencoded
Authorization: Basic dG9tOmI3ZTM1ODM4LTg3NTctNGYzNC1iNmUzLWZlMGI5OGMxYjU0MQ==

grant_type=client_credentials
```

Response:

```
HTTP/1.1 200 OK
Date: Mon, 27 Jan 2020 16:33:33 GMT
Server: Apache/2.4.29 (Ubuntu)
Cache-Control: no-store
Pragma: no-cache
Content-Type: application/json
Content-Length: 1997
Keep-Alive: timeout=5, max=100
Connection: Keep-Alive


{
  "access_token": "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJGMGU4RUhGTjFINzlkYUF5TTdQOTFpeFdhRGRqYXhJZkJoZ0txZ21QN0lVIn0.eyJqdGkiOiJkNGQzNTUwYS03ZWVkLTRjMzMtYTJlMi0wODFlMmExYWMxMWEiLCJleHAiOjE1ODAxNDQwNjksIm5iZiI6MCwiaWF0IjoxNTgwMTQ0MDA5LCJpc3MiOiJodHRwczovL2tleWNsb2FrLXNhbmRib3guY29zaXVtLm5pbmphL2F1dGgvcmVhbG1zL21hc3RlciIsInN1YiI6IjYyNWRhZTI1LWQ3NmEtNGM4Mi1iMTIzLTg4ZDQ4ODVkNGIzMyIsInR5cCI6IkJlYXJlciIsImF6cCI6InRvbSIsImF1dGhfdGltZSI6MCwic2Vzc2lvbl9zdGF0ZSI6Ijg5ZjVkYjUxLTJiZGMtNDNlOS1iN2IwLWFhOTZhZjIxYTViZiIsImFjciI6IjEiLCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImNsaWVudElkIjoidG9tIiwiY2xpZW50SG9zdCI6IjEyNy4wLjAuMSIsInByZWZlcnJlZF91c2VybmFtZSI6InNlcnZpY2UtYWNjb3VudC10b20iLCJjbGllbnRBZGRyZXNzIjoiMTI3LjAuMC4xIiwiZW1haWwiOiJzZXJ2aWNlLWFjY291bnQtdG9tQHBsYWNlaG9sZGVyLm9yZyJ9.edD6cHaEkA3nP5M0nAmZ_zAt4md2W0rVxSa6eE1_f-u_xdnUUQeT7N7DHXoC4osry38v_nYIFuoeoY7gNeafNHSLqUKZ3wrkIRugdEdzuna3y9Ka2wI6mDotjve_ERsbgKMBzP-mCeUBTj84MHWFXfFHa9AAI2IEgfrSnoEjZn_1hqPx_ZMDDBWog2mp8KbjaL4cnvFH6c219kJO5tlqlyfvT6kjHiLLxb9u1aAML4p2orYcg5M8-DTJLv7RLnx-h50YPJddtasCL9g15RJ4EU4MuZWudDOuRagbwoJw6Z9cszjgdR3Ll-PfMfU311EuKLKNlS1-dIZ4qlB21tSv0A",
  "expires_in": 60,
  "refresh_expires_in": 1800,
  "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJiNjU5N2RiMi0zNjE1LTQxYzYtODhkNy1kMzc4OTY0YjY0OTkifQ.eyJqdGkiOiI4YjE2OWQ1Ni1mMGY1LTRhODItYTg1ZS1mODUxZWI4OGI2ODkiLCJleHAiOjE1ODAxNDU4MDksIm5iZiI6MCwiaWF0IjoxNTgwMTQ0MDA5LCJpc3MiOiJodHRwczovL2tleWNsb2FrLXNhbmRib3guY29zaXVtLm5pbmphL2F1dGgvcmVhbG1zL21hc3RlciIsImF1ZCI6Imh0dHBzOi8va2V5Y2xvYWstc2FuZGJveC5jb3NpdW0ubmluamEvYXV0aC9yZWFsbXMvbWFzdGVyIiwic3ViIjoiNjI1ZGFlMjUtZDc2YS00YzgyLWIxMjMtODhkNDg4NWQ0YjMzIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6InRvbSIsImF1dGhfdGltZSI6MCwic2Vzc2lvbl9zdGF0ZSI6Ijg5ZjVkYjUxLTJiZGMtNDNlOS1iN2IwLWFhOTZhZjIxYTViZiIsInNjb3BlIjoiZW1haWwgcHJvZmlsZSJ9.OueyEkqL3F2WTzz-uvRdxVIdX8qu97EpPSfbBS9GfSk",
  "token_type": "bearer",
  "not-before-policy": 0,
  "session_state": "89f5db51-2bdc-43e9-b7b0-aa96af21a5bf",
  "scope": "email profile"
}
```

The access token is provided by the JSON `access_token` field value. 
The access token has a lifespan of 60 seconds.

## Access token usage

In order to authenticate an HTTP request, you must pass the access token into a header `Authorization` of type `Bearer`.

Example:

```
GET http://app.cosium.net/api/
Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJGMGU4RUhGTjFINzlkYUF5TTdQOTFpeFdhRGRqYXhJZkJoZ0txZ21QN0lVIn0.eyJqdGkiOiI4YWU3N2VkMy03ZTQ1LTRkOWItOWZhZC1lNTM0N2VmNTc1NjMiLCJleHAiOjE1ODAxNDI4NzMsIm5iZiI6MCwiaWF0IjoxNTgwMTQyODEzLCJpc3MiOiJodHRwczovL2tleWNsb2FrLXNhbmRib3guY29zaXVtLm5pbmphL2F1dGgvcmVhbG1zL21hc3RlciIsInN1YiI6IjYyNWRhZTI1LWQ3NmEtNGM4Mi1iMTIzLTg4ZDQ4ODVkNGIzMyIsInR5cCI6IkJlYXJlciIsImF6cCI6InRvbSIsImF1dGhfdGltZSI6MCwic2Vzc2lvbl9zdGF0ZSI6IjUzZDYyODBkLTIxNDMtNDNmOS1hZjA3LTczOWIyNGNkNDlkZSIsImFjciI6IjEiLCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImNsaWVudElkIjoidG9tIiwiY2xpZW50SG9zdCI6IjEyNy4wLjAuMSIsInByZWZlcnJlZF91c2VybmFtZSI6InNlcnZpY2UtYWNjb3VudC10b20iLCJjbGllbnRBZGRyZXNzIjoiMTI3LjAuMC4xIiwiZW1haWwiOiJzZXJ2aWNlLWFjY291bnQtdG9tQHBsYWNlaG9sZGVyLm9yZyJ9.kAp4NS8ef42VA0E24MDl6vBP92q2SMqdQ6UTL51pgvdYprZ_9R93U2_iVRiqNEcrpCrBEuWTjhEVxkrerDEAoOojMa1_u2MewvbXM6M7E82nszC3yy90mD0k19y5NnCkwn91F3GBzo0S_RC5IKoVDeQxJiWyp0THm3VhSWsenOHFji7WkR7NmiwgRT_vW7gE2N5oCFmU8AX8CsxaS5izYDtqmF3dwWs43v4oEgEGG0OoA2_WVkRhwPjQeX1ZdaEjx-omK0yKUQOzQqTsDP39yA2e4acoCJgldKo5QGYzgdUZdvI_yyxa0rRJUU2Y83UCHY-H3KytyyOMd1vxGXTOKA
```
